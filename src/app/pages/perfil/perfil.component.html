<div class="container">

  <section>
      <div class="icone-zera-meta">
        <svg routerLink="/menu" width="60" height="60" viewBox="0 0 48 48" fill="none">
          <circle cx="24" cy="32" r="10" fill="#0e3553"/>
          <circle cx="24" cy="32" r="7" fill="#e9e9e9"/>
          <polygon points="24,8 18,24 30,24" fill="#0e3553"/>
        </svg>
      </div>
  </section>

    <section>
        <div class="config">
            <svg routerLink="/configuracoes" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#e9e9e9">
            <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/>
            </svg>
        </div>
    </section>

  <section class="perfil">
    <h2>Perfil</h2>
  </section>

  <section class="itens-menu">

    <div class="foto-perfil">
        <svg (click)="editarFoto()" class="edicao-foto" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="#e9e9e9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    </div>

    <!-- Input de arquivo oculto para a seleção da imagem -->
    <input type="file" #fileInput style="display: none" (change)="onFileSelected($event)" accept="image/*">

    <div (click)="editarInfo()" class="info-perfil">
      <h4>Nome: {{ usuario.nome }}</h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    </div>
    <div (click)="editarEmail()"  class="info-perfil">
      <h4>E-mail: {{ usuario.email }}</h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    </div>
    <div (click)="editarSenha()" class="info-perfil">
      <h4>Senha: **********</h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    </div>
    <div (click)="editarTelefone()" class="info-perfil">
      <h4>Telefone: {{ usuario.telefone }}</h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    </div>
    <div (click)="editarPlano()" class="info-perfil">
      <h4>Plano: {{ usuario.plano }}</h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    </div>
    <!-- <div routerLink="/login" class="info-perfil item-sair">
      <h4></h4>Sair</span></h4></h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
    </div> -->
    <div (click)="deletarConta()" class="info-perfil item-deletar">
      <h4>Deletar conta</h4>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
    </div>

    <!-- Modal de Edição Nome-->
    <div class="fundo-modal" *ngIf="abrirModalInfo">
      <div class="modal">
        <div class="modal-content">
          <h2>Alterar nome</h2>
          <!-- <p>Insira seu nome completo</p> -->
          <input class="input" [(ngModel)]="nomeEmEdicao" placeholder="Novo nome">
          <div class="botoes">
            <button class="salvar" (click)="salvarAlteracaoNome()">Salvar</button>
            <button class="cancelar" (click)="fecharModal()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>    

        <!-- Modal de Edição E-mail-->
    <div class="fundo-modal" *ngIf="abrirModalEmail">
      <div class="modal">
        <div class="modal-content">
          <h2>Alterar e-mail</h2>
          <!-- <p>Insira seu nome completo</p> -->
          <input class="input" [(ngModel)]="emailEmEdicao" placeholder="Novo e-mail">
          <div class="botoes">
            <button class="salvar" (click)="salvarAlteracaoEmail()">Salvar</button>
            <button class="cancelar" (click)="fecharModalEmail()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>   

    <!-- Modal de Edição Senha-->
    <div class="fundo-modal" *ngIf="abrirModalSenha">
      <div class="modal">
        <div class="modal-content">
          <h2>Alterar senha</h2>
          <input (keyup)="verificaPreenchimentoSenha()" class="input" type="password" [(ngModel)]="senhaEmEdicao" placeholder="Nova senha">
           <p *ngIf="!senhaValida" style="margin-bottom: 1.5rem; color: red;font-size: 0.75rem;">senha inválida (mínimo 8 caracteres, 1 caractere especial, usar letras e números).</p>

          <div class="botoes">
            <button class="salvar" (click)="salvarAlteracaoSenha()">Salvar</button>
            <button class="cancelar" (click)="fecharModalSenha()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Edição Telefone-->
    <div class="fundo-modal" *ngIf="abrirModalTelefone">
      <div class="modal">
        <div class="modal-content">
          <h2>Alterar telefone</h2>
          <input class="input" [(ngModel)]="telefoneEmEdicao" placeholder="Novo telefone">
          <div class="botoes">
            <button class="salvar" (click)="salvarAlteracaoTelefone()">Salvar</button>
            <button class="cancelar" (click)="fecharModalTelefone()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Edição Plano-->
    <div class="fundo-modal" *ngIf="abrirModalPlano">
      <div class="modal">
        <div class="modal-content">
          <h2>Alterar plano</h2>
          <select class="input" [(ngModel)]="planoEmEdicao">
            <option *ngFor="let plano of planoOptions" [value]="plano">{{ plano }}</option>
          </select>
          <div class="botoes">
            <button class="salvar" (click)="salvarAlteracaoPlano()">Salvar</button>
            <button class="cancelar" (click)="fecharModalPlano()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>

  </section>

  <section>
    <app-loading *ngIf="isLoading"></app-loading>
  </section>

  <section>
      <app-modal-message
      [type]="modalType"
      [message]="modalMessage"
      [show]="showModal"
      (close)="closeModal()">
    </app-modal-message>
  </section>

  <section>
    <div class="modal-delete" *ngIf="showModalDelete">
        <div class="modal">
          <h3>
            Tem certeza que deseja deletar a conta?
          </h3>
          <!-- <p>{{ message }}</p> -->
          <div class="botoes-deletar">
              <button class="botao-sim" (click)="confirmarDelete()">Sim</button>
              <button class="botao-nao" (click)="cancelarDelete()">Não</button>
          </div>    
        </div>
    </div>
  </section>

</div>
